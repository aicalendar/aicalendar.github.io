<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Calendar</title>
    <link rel="icon" href="logo/logoweb.png" type="image/png"> 
    <link rel="stylesheet" href="styleYEAR.css">
</head>
<body>

    <h1 style="text-align: center;">My Calendar</h1>
    
    <h2 style="text-align: center;">Year : 
        <button id="prevYear" class="nav-btn">&lt;</button>
        <input type="number" id="yearInput" value="2026" min="1900" max="2100">
        <button id="nextYear" class="nav-btn">&gt;</button>
    </h2>

    <div class="grid-container" id="calendarGrid">
        </div>

    <footer class="footer">
        Produced by <a href="https://github.com/kotsalosk" style="color: #0805cf; text-decoration: none;">kotsalosk</a>
    </footer>

    <script>
        const months = [
            "January", "February", "March", "April", "May", "June",
            "July", "August", "September", "October", "November", "December"
        ];
        const daysOfWeek = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
        
        let currentYear = 2026;

        function generateCalendar(year) {
            const container = document.getElementById('calendarGrid');
            
            // Clear the content
            container.innerHTML = "";
            
            // Update the box (if the function is called from elsewhere)
            document.getElementById('yearInput').value = year;

            for (let month = 0; month < 12; month++) {
                // Creation of the wrapper
                const monthDiv = document.createElement('div');
                monthDiv.className = 'month-wrapper';

                const title = document.createElement('h3');
                title.className = 'month-title';
                title.innerText = months[month];
                monthDiv.appendChild(title);

                // Table creation
                const table = document.createElement('table');
                
                const thead = document.createElement('tr');
                daysOfWeek.forEach(day => {
                    const th = document.createElement('th');
                    th.innerText = day;
                    thead.appendChild(th);
                });
                table.appendChild(thead);

                // Calculate the dates
                const firstDayIndex = new Date(year, month, 1).getDay(); // The starting day (0-6)
                const daysInMonth = new Date(year, month + 1, 0).getDate(); // Days of the current month
                const prevMonthDays = new Date(year, month, 0).getDate(); // Days of the previous month

                let date = 1;
                let nextMonthDate = 1;
                let row = document.createElement('tr');

                // Loop for all the cages (42 cells)
                for (let i = 0; i < 42; i++) {
                    const cell = document.createElement('td');

                    // CASE 1: Days of the previous month
                    if (i < firstDayIndex) {
                        const prevDate = prevMonthDays - (firstDayIndex - 1 - i);
                        cell.innerText = prevDate;
                        cell.className = "other-month"; 
                    }
                    // CASE 2: Days of the current month
                    else if (date <= daysInMonth) {
                        cell.innerText = date;
                        date++;
                    }
                    // CASE 3: Days of the next month
                    else {
                        cell.innerText = nextMonthDate;
                        cell.className = "other-month";
                        nextMonthDate++;
                    }

                    row.appendChild(cell);

                    // Every 7 days change the line
                    if ((i + 1) % 7 === 0) {
                        table.appendChild(row);
                        row = document.createElement('tr');
                    }
                }

                monthDiv.appendChild(table);
                container.appendChild(monthDiv);
            }
        }

        // Running
        const yearInput = document.getElementById('yearInput');
        
        // Î™nitial execution 
        generateCalendar(parseInt(yearInput.value));

        // It's for the typing of the year
        yearInput.addEventListener('change', () => {
            const newYear = parseInt(yearInput.value);
            if (newYear > 0) { 
                generateCalendar(newYear);
            }
        });

        // Buttons
        document.getElementById('prevYear').addEventListener('click', () => {
            yearInput.value = parseInt(yearInput.value) - 1; 
            generateCalendar(parseInt(yearInput.value));    
        });

        document.getElementById('nextYear').addEventListener('click', () => {
            yearInput.value = parseInt(yearInput.value) + 1; 
            generateCalendar(parseInt(yearInput.value));    
        });
    </script>
</body>
</html>